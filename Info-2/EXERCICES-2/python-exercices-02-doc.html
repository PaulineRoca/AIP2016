<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="pandoc.css" type="text/css" />
</head>
<body>
<div id="TOC">
<ul>
<li><a href="#modules">modules</a></li>
<li><a href="#standard-modules-and-more">Standard modules and more</a></li>
<li><a href="#playing-with-the-turtle">Playing with the turtle</a></li>
<li><a href="#prime-numbers">Prime numbers</a></li>
<li><a href="#back-to-automata">Back to automata</a></li>
<li><a href="#representing-number-in-binary">Representing number in binary</a><ul>
<li><a href="#from-binary-to-decimal">From binary to decimal</a></li>
<li><a href="#from-decimal-to-binary">From decimal to binary</a></li>
</ul></li>
<li><a href="#representation-of-text">Representation of text</a></li>
<li><a href="#a-few-useful-functions-on-strings">A few useful functions on strings</a></li>
<li><a href="#lists-and-dictionaries">lists and dictionaries</a></li>
<li><a href="#reading-and-writing-files">Reading and writing files</a></li>
</ul>
</div>
<p>Today, we will be using the text editor atom and a terminal with ipython running.</p>
<div class="figure">
<img src="images/usingatom.png" alt="atom and ipython side by side" /><p class="caption">atom and ipython side by side</p>
</div>
<h1 id="modules"><a href="#modules">modules</a></h1>
<p>Python’s language can be augmented by new functions and object from <strong><em>modules</em></strong> (or <strong><em>packages</em></strong>, or <strong><em>libraries</em></strong>). They are imported with the function <code>import</code>.</p>
<p>Example 1 (in <code>ipython</code> command line):</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> math
math.sin(<span class="fl">1.3</span>)</code></pre>
<p>. . .</p>
<p>Example 2:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> numpy <span class="ch">as</span> np
<span class="ch">import</span> matplotlib.pyplot <span class="ch">as</span> plt
plt.plot(np.sin(np.linspace(<span class="dv">0</span>, <span class="dv">6</span>*np.pi, <span class="dv">500</span>)))
plt.show()</code></pre>
<p>. . .</p>
<p>Example 3:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> random
random.&lt;TAB&gt;
random?</code></pre>
<h1 id="standard-modules-and-more"><a href="#standard-modules-and-more">Standard modules and more</a></h1>
<ul>
<li><p>Python comes with a standard library of modules: https://docs.python.org/2/library/index.html</p></li>
<li><p>Anaconda comes with more libraries pre installed: https://docs.continuum.io/anaconda/pkg-docs</p></li>
<li><p>It is easy to create one’s own module: having a file <code>mymodule.py</code> in the current directoy, it is possible to use <code>import mymodule</code>.</p></li>
</ul>
<h1 id="playing-with-the-turtle"><a href="#playing-with-the-turtle">Playing with the turtle</a></h1>
<p>Have a look at the <code>turtle</code> module https://docs.python.org/2/library/turtle.html</p>
<p>EX: Write the following program in atom, save it and execute it</p>
<pre class="sourceCode python"><code class="sourceCode python">    <span class="ch">import</span> turtle
    turtle.forward(<span class="dv">100</span>)
    turte.left(<span class="dv">120</span>)
    turtle.forward(<span class="dv">100</span>)
    turtle.left(<span class="dv">120</span>)
    turtle.forward(<span class="dv">100</span>)
    turtle.left(<span class="dv">120</span>)
    turtle.mainloop()</code></pre>
<p>EX: Modify this program to display a regular polygon with <code>n</code> sides</p>
<h1 id="prime-numbers"><a href="#prime-numbers">Prime numbers</a></h1>
<p>Given the following function:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> is_factor(a, b):
    <span class="kw">return</span> b % a == <span class="dv">0</span>

<span class="dt">print</span>(is_factor(<span class="dv">3</span>, <span class="dv">27</span>))
<span class="dt">print</span>(is_factor(<span class="dv">3</span>, <span class="dv">28</span>))</code></pre>
<p>Write a program that determines prime numbers between 1 and 100</p>
<p>. . .</p>
<h1 id="back-to-automata"><a href="#back-to-automata">Back to automata</a></h1>
<ol style="list-style-type: decimal">
<li>Write a program that simulates the following automaton:</li>
</ol>
<div class="figure">
<img src="images/coin-counter.png" alt="The coin-counter" /><p class="caption">The coin-counter</p>
</div>
<p>The input is a list a coins, e.g., ‘dime’, ‘quarter’, ‘nickel’ and the program must write ‘ok’ if the sequence leads to the correct amount (25 cents).</p>
<p>. . .</p>
<ol start="2" style="list-style-type: decimal">
<li>Write a program that recognizes if a character string conforms to the pattern HA!, HAHA!, HAHAHA!, …</li>
</ol>
<p>. . .</p>
<h1 id="representing-number-in-binary"><a href="#representing-number-in-binary">Representing number in binary</a></h1>
<p>Remember that a number represented by four digits “d3 d2 d1 d0” in a basis ‘b’, has a value of d3<em>b^3 + d2</em>b^2 + d1<em>b^1 + d0</em>b^0</p>
<ul>
<li>In binary, there are only two possibilities for the digits: {0,1}</li>
<li>In decimal, 10 possible characters</li>
<li>In hexadecimal, 16 possible characters 0-9, A, B, C, D, E, F (D8F1 = 14<em>16^3 + 8</em>10^2 + 15<em>16^1 + 1</em>16^0)</li>
</ul>
<p>To learn more about how integer numbers are represented in binary format, you can check out <a href="http://csunplugged.org/binary-numbers">http://csunplugged.org/binary-numbers</a></p>
<p>Convert (manually) into decimal the following binary numbers: - 101 - 1000 - 1011 - 11111111</p>
<p>. . .</p>
<p><em>Answer:</em> 5, 8, 11, 255</p>
<h2 id="from-binary-to-decimal"><a href="#from-binary-to-decimal">From binary to decimal</a></h2>
<p>Let us write a function that, given the binary representation of a number as a string of ‘0’ and ‘1’, returns its value as a integer.</p>
<ol style="list-style-type: decimal">
<li>Let us first suppose that we want to convert a string containing exactly 8 binary digits (e.g. ‘01011010’) into decimal. How would you do that?</li>
</ol>
<p>. . .</p>
<p>Here is a proposal:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> todec8bits(s):
    <span class="kw">return</span> <span class="dt">int</span>(s[<span class="dv">0</span>])*<span class="dv">128</span> + <span class="dt">int</span>(s[<span class="dv">1</span>])*<span class="dv">64</span> + <span class="dt">int</span>(s[<span class="dv">2</span>])*<span class="dv">32</span> + \
           <span class="dt">int</span>(s[<span class="dv">3</span>])*<span class="dv">16</span> + <span class="dt">int</span>(s[<span class="dv">4</span>])*<span class="dv">8</span> + <span class="dt">int</span>(s[<span class="dv">5</span>])*<span class="dv">4</span> + \
           <span class="dt">int</span>(s[<span class="dv">6</span>])*<span class="dv">2</span> + <span class="dt">int</span>(s[<span class="dv">7</span>])

todec8bits(<span class="st">&quot;01010101&quot;</span>)</code></pre>
<p>And another solution which demonstrates several Pythonic constructions that we have not seen yet:</p>
<pre class="sourceCode python"><code class="sourceCode python">pow2 = [<span class="dv">2</span> ** n <span class="kw">for</span> n in <span class="dt">range</span>(<span class="dv">7</span>, -<span class="dv">1</span>, -<span class="dv">1</span>)]
n = <span class="dv">0</span>
<span class="kw">for</span> b, p in <span class="dt">zip</span>(s, pow2):
    n += <span class="dt">int</span>(b) * p
<span class="dt">print</span>(n)</code></pre>
<p>. . .</p>
<p>The previous codes had an issue: they only worked for 8bits numbers:</p>
<pre class="sourceCode python"><code class="sourceCode python">todec8bits(<span class="st">&quot;0101010&quot;</span>)
todec8bits(<span class="st">&quot;010101010&quot;</span>)</code></pre>
<p>We should modify it to adapt to the size of the string ‘s’.</p>
<p>Can you try? . . .</p>
<p>Here is a possible solution:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> todec(s):
    <span class="co">&quot;&quot;&quot; convert a string of 0 and 1 representing a binary number into an integer &quot;&quot;&quot;</span>
    n = <span class="dv">0</span>
    <span class="kw">for</span> b in s:
        n = n * <span class="dv">2</span> + <span class="dt">int</span>(b)
    <span class="kw">return</span> n

<span class="kw">for</span> i in [<span class="st">&#39;101&#39;</span>, <span class="st">&#39;1000&#39;</span>, <span class="st">&#39;1011&#39;</span>, <span class="st">&#39;11111111&#39;</span>]:
    <span class="dt">print</span>(todec(i))</code></pre>
<hr />
<h2 id="from-decimal-to-binary"><a href="#from-decimal-to-binary">From decimal to binary</a></h2>
<p>Now we will go in the other direction: Our aim is to write a program that, given a number (in decimal), computes its binary representation.</p>
<p>If you have an idea how to program it, please proceed. If not, we propose that you follow the following steps:</p>
<p>Study the program below. Execute it with various values of the variable <em>num</em>. Do you understand the last line? Do you see a limitation of this program?</p>
<pre class="sourceCode python"><code class="sourceCode python">num = <span class="dv">143</span>
d3 = <span class="dt">int</span>(num/<span class="dv">1000</span>) % <span class="dv">10</span> <span class="co"># thousands</span>
d2 = <span class="dt">int</span>(num/<span class="dv">100</span>)  % <span class="dv">10</span> <span class="co"># hundreds</span>
d1 = <span class="dt">int</span>(num/<span class="dv">10</span>)   % <span class="dv">10</span> <span class="co"># dec</span>
d0 =  num % <span class="dv">10</span>
<span class="dt">print</span>(<span class="dt">str</span>(d3) + <span class="dt">str</span>(d2) + <span class="dt">str</span>(d1) + <span class="dt">str</span>(d0))</code></pre>
<ol style="list-style-type: example">
<li>Adapt the above program to print the binary representation of num</li>
</ol>
<p>. . .</p>
<pre class="sourceCode python"><code class="sourceCode python">num = <span class="dv">17</span>
b0 = num % <span class="dv">2</span>
b1 = <span class="dt">int</span>(num/<span class="dv">2</span>) % <span class="dv">2</span>
b2 = <span class="dt">int</span>(num/<span class="dv">4</span>) % <span class="dv">2</span>
b3 = <span class="dt">int</span>(num/<span class="dv">8</span>) % <span class="dv">2</span>
b4 = <span class="dt">int</span>(num/<span class="dv">16</span>)  % <span class="dv">2</span>
b5 = <span class="dt">int</span>(num/<span class="dv">32</span>)  % <span class="dv">2</span>
b6 = <span class="dt">int</span>(num/<span class="dv">64</span>)  % <span class="dv">2</span>
b7 = <span class="dt">int</span>(num/<span class="dv">128</span>) % <span class="dv">2</span>
b8 = <span class="dt">int</span>(num/<span class="dv">256</span>) % <span class="dv">2</span>
<span class="dt">print</span>(<span class="dt">str</span>(b8) + <span class="dt">str</span>(b7) +  <span class="dt">str</span>(b6) + <span class="dt">str</span>(b5) + <span class="dt">str</span>(b4) + <span class="dt">str</span>(b3) + <span class="dt">str</span>(b2) + <span class="dt">str</span>(b1) + <span class="dt">str</span>(b0))</code></pre>
<p>. . .</p>
<ol start="2" style="list-style-type: example">
<li>Modify the above program to print the binary representations of every number between 0 and 255.</li>
</ol>
<p>. . .</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> tobin(num):
    b7 = <span class="dt">int</span>(num/<span class="dv">128</span>) % <span class="dv">2</span>
    b6 = <span class="dt">int</span>(num/<span class="dv">64</span>)  % <span class="dv">2</span>
    b5 = <span class="dt">int</span>(num/<span class="dv">32</span>)  % <span class="dv">2</span>
    b4 = <span class="dt">int</span>(num/<span class="dv">16</span>)  % <span class="dv">2</span>
    b3 = <span class="dt">int</span>(num/<span class="dv">8</span>) % <span class="dv">2</span>
    b2 = <span class="dt">int</span>(num/<span class="dv">4</span>) % <span class="dv">2</span>
    b1 = <span class="dt">int</span>(num/<span class="dv">2</span>) % <span class="dv">2</span>
    b0 = num % <span class="dv">2</span>
    <span class="kw">return</span> (<span class="dt">str</span>(b7) +  <span class="dt">str</span>(b6) + <span class="dt">str</span>(b5) + <span class="dt">str</span>(b4) + \
            <span class="dt">str</span>(b3) + <span class="dt">str</span>(b2) + <span class="dt">str</span>(b1) + <span class="dt">str</span>(b0))

<span class="kw">for</span> n in <span class="dt">range</span>(<span class="dv">256</span>):
    <span class="dt">print</span>(n, tobin(n))</code></pre>
<p>. . .</p>
<p>(Advanced) Write an improved version that uses a loop and does not have a limitation in size.</p>
<p>. . .</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> binary(n):
    <span class="kw">if</span> n==<span class="dv">0</span>:
        <span class="kw">return</span> <span class="st">&quot;0&quot;</span>
    s = <span class="st">&quot;&quot;</span>
    <span class="kw">while</span> n &gt; <span class="dv">0</span>:
        b = <span class="dt">str</span>(n % <span class="dv">2</span>)
        s = b + s
        n = n / <span class="dv">2</span>
    <span class="kw">return</span> s</code></pre>
<p>. . .</p>
<p>Study the following code. Do you understand why it works?</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> binary(num):
    <span class="kw">if</span> num == <span class="dv">0</span>:
        <span class="kw">return</span> <span class="st">&quot;0&quot;</span>
    <span class="kw">if</span> num == <span class="dv">1</span>:
        <span class="kw">return</span> <span class="st">&quot;1&quot;</span>
    <span class="kw">return</span>(binary(<span class="dt">int</span>(num /<span class="dv">2</span>)) + binary(num % <span class="dv">2</span>))

<span class="dt">print</span>(binary(<span class="dv">1234</span>))</code></pre>
<p>. . .</p>
<p><em>Answer:</em> It is a recursive function which calls itself. See <a href="http://en.wikipedia.org/wiki/Recursion_%28computer_science%29">http://en.wikipedia.org/wiki/Recursion_%28computer_science%29</a></p>
<p>. . .</p>
<p>A bit more about recursion:</p>
<p>The factorial of a integer number ‘n’ is the function that associate to n the product of 1, 2, …, n. Therefore f(n) = f(n-1) * n</p>
<p>Write a recursive function that computes factorial(n)</p>
<p>. . .</p>
<p>The Fibonacci sequence is such that:</p>
<p>u_0 = 1 u_1 = 1 u_n = u_{n-1} + u_{n-2}</p>
<p>Program a function that returns the ’n’th Fibonacci number.</p>
<p>. . .</p>
<p>To go further:</p>
<ul>
<li><p>If you want to know how negative integer numbers are represented, see <a href="http://en.wikipedia.org/wiki/Two%27s_complement">http://en.wikipedia.org/wiki/Two%27s_complement</a></p></li>
<li><p>Type <code>0.1 + 0.3</code> in the python console and be amazed. To understand what is going on, read [python’s doc about floats] (https://docs.python.org/2/tutorial/floatingpoint.htmlhttps://docs.python.org/2/tutorial/floatingpoint.html) and <a href="http://floating-point-gui.de/">What Every Programmer Should Know About Floating-Point Arithmetic</a>.</p></li>
</ul>
<h1 id="representation-of-text"><a href="#representation-of-text">Representation of text</a></h1>
<p>A text file is nothing but a sequences of characters.</p>
<p>For a long time, characters were encoded using ASCII code.</p>
<div class="figure">
<img src="images/asciitable.jpg" alt="ascii table" /><p class="caption">ascii table</p>
</div>
<p>In Python, you can know the code of a character with the function <code>ord</code>:</p>
<pre><code>print(ord(&#39;a&#39;))
print(ord(&#39;@&#39;))</code></pre>
<p>The inverse of <code>ord</code> is <code>chr</code>.</p>
<ol start="3" style="list-style-type: example">
<li>lookup the ASCII representation of your first name in the table and use the <code>chr</code> function of Python to print it.</li>
</ol>
<p>. . .</p>
<p>For example, if you name is ‘ZOE’, you would type:</p>
<pre><code>print(chr(90)+chr(79)+chr(69))</code></pre>
<p>Remark: <strong>ASCII</strong> codes use one byte (=8bits) per character. This is fine for English, but cannot cover all the caracters of all alphabets. It cannot even encode french accented letters.</p>
<p><strong>Unicode</strong> was invented that associate a unique 2 bytes number to each character of any human script. It is possible to write text files using these number, but more economic to encode the most common letters with one byte, and keep the compatibility with ASCII (UTF-8).</p>
<pre><code>print(&quot;&quot;.join([unichr(c) for c in range(20000, 21000)])))</code></pre>
<h1 id="a-few-useful-functions-on-strings"><a href="#a-few-useful-functions-on-strings">A few useful functions on strings</a></h1>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="st">&quot;Bonjour Jean&quot;</span>
<span class="dt">len</span>(a)
a[<span class="dv">2</span>:<span class="dv">4</span>]

a.replace(<span class="st">&quot;Jean&quot;</span>, <span class="st">&quot;Marc&quot;</span>)
a
b = a.replace(<span class="st">&quot;Jean&quot;</span>, <span class="st">&quot;Marc&quot;</span>)

a = <span class="st">&quot;caillou, genou, bijou&quot;</span>
a.split(<span class="st">&quot;,&quot;</span>)

b= [<span class="st">&#39;alpha&#39;</span>, <span class="st">&#39;beta&#39;</span>, <span class="st">&#39;gamma&#39;</span>]
<span class="co">&quot;;&quot;</span>.join(b)</code></pre>
<h1 id="lists-and-dictionaries"><a href="#lists-and-dictionaries">lists and dictionaries</a></h1>
<pre class="sourceCode python"><code class="sourceCode python">mylist1 = [<span class="st">&#39;alpha&#39;</span>, <span class="st">&#39;beta&#39;</span>, <span class="st">&#39;gamma&#39;</span>]
mylist2 = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]
<span class="kw">for</span> i in <span class="dt">range</span>(<span class="dt">len</span>(list1)):
    <span class="dt">print</span>(mylist1[i], mylist2[i])</code></pre>
<p>Note: remember <code>zip</code>?</p>
<pre class="sourceCode python"><code class="sourceCode python">mydict = { <span class="st">&#39;alpha&#39;</span>:<span class="dv">1</span>, <span class="st">&#39;beta&#39;</span>:<span class="dv">2</span>, <span class="st">&#39;gamma&#39;</span>:<span class="dv">3</span>}
<span class="kw">for</span> i, v in mydict:
    <span class="dt">print</span> i, v</code></pre>
<p>You can think of dictionaries as functions from keys to values.</p>
<p>. . .</p>
<p>EX: Given a list of words, write a program that find which are anagrams</p>
<h1 id="reading-and-writing-files"><a href="#reading-and-writing-files">Reading and writing files</a></h1>
<p>Create a file containing a few lines of text with atom and save it under the name <code>myfile.txt</code>.</p>
<p>Execute the code:</p>
<pre class="sourceCode python"><code class="sourceCode python">inputFile = <span class="dt">file</span>(‘myfile.txt’)
<span class="kw">for</span> lines in inputFile:
    <span class="dt">print</span> lines</code></pre>
<p>. . .</p>
<p>Write a function <code>count-words</code> that counts the number of words in myfile.txt</p>
<p>. . .</p>
<p>Remark: with the module <code>sys</code>, you can read argument on the command line.</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> sys
fname = sys.argv[<span class="dv">1</span>]
<span class="dt">print</span>(count_words(fname))</code></pre>
<p>Read the file http://pallier.org/ressources/AIP2016/Info-2/EXERCICES-2/american-english.txthttp://pallier.org/ressources/AIP2016/Info-2/EXERCICES-2/american-english.txt using the function <code>urllib2.urlopen</code></p>
<p>EX: Find all anagrams in English</p>
</body>
</html>
